<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 908.Redis 实现原理或机制。

> 原文：[https://zwmst.com/5084.html](https://zwmst.com/5084.html)

   [ *数据库* ](https://zwmst.com/%e6%95%b0%e6%8d%ae%e5%ba%93)*[ <time datetime="2021-10-16T03:09:05+08:00"> 2021-10-15 </time> ](https://zwmst.com/5084.html)  Redis 是一个 key-value 存储系统。和 Memcached 类似，但是解决了断电后数据完全丢失的情况，而且她支持更多无化的 value 类型，除了和 string 外，还支持lists（链表）、sets（集合）和 zsets（有序集合）几种数据类型。这些数据类型都支持 push/pop、add/remove 及取交集并集和差集及更丰富的操作，而且这些操作都是原子性的。
Redis 是一种基于客户端 – 服务端模型以及请求 / 响应协议的 TCP 服务。这意味着通常情况下一个请求会遵循以下步骤：
客户端向服务端发送一个查询请求，并监听 Socket 返回，通常是以阻塞模式，等待服务端响应。服务端处理命令，并将结果返回给客户端。
在服务端未响应时，客户端可以继续向服务端发送请求，并最终一次性读取所有服务端的响应。
Redis 管道技术最显著的优势是提高了 Redis 服务的性能。
分区是分割数据到多个 Redis 实例的处理过程，因此每个实例只保存 key 的一个子集。
通过利用多台计算机内存的和值，允许我们构造更大的数据库。
通过多核和多台计算机，允许我们扩展计算能力；通过多台计算机和网络适配器，允许我们扩展网络带宽。
Redis 的一些特性在分区方面表现的不是很好：
涉及多个 key 的操作通常是不被支持的。举例来说，当两个 set 映射到不同的Redis 实例上时，你就不能对这两个 set 执行交集操作。
涉及多个 key 的 Redis 事务不能使用。
当使用分区时，数据处理较为复杂，比如你需要处理多个 rdb/aof 文件，并且从多个实例和主机备份持久化文件。
增加或删除容量也比较复杂。Redis 集群大多数支持在运行时增加、删除节点的透明数据平衡的能力，但是类似于客户端分区、代理等其他系统则不支持这项特性。然而，一种叫做 presharding 的技术对此是有帮助的。*