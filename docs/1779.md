<!--yml
category: 未分类
date: 0001-01-01 00:00:00
-->

# 426.数据写入和更新（数据追加）

> 原文：[https://zwmst.com/3906.html](https://zwmst.com/3906.html)

   [ *Cassandra* ](https://zwmst.com/cassandra)*[ <time datetime="2021-09-24T15:15:07+08:00"> 2021-09-24 </time> ](https://zwmst.com/3906.html)  Cassandra 的设计思路与这些系统不同，无论是 insert 还是 remove 操作，都是在已有的数据后面进行追加，而不修改已有的数据。这种设计称为 Log structured 存储，顾名思义就是系统中的数据是以日志的形式存在的，所以只会将新的数据追加到已有数据的后面。Log structured 存储系统有两个主要优点：

### 数据的写和删除效率极高

1.  传统的存储系统需要更新元信息和数据，因此磁盘的磁头需要反复移动，这是一个比较耗时的操作，而 Log structured 的系统则是顺序写，可以充分利用文件系统的 cache，所以效率很高。

### 错误恢复简单

2.  由于数据本身就是以日志形式保存，老的数据不会被覆盖，所以在设计 journal 的时候不需要考虑 undo，简化了错误恢复。

### 读的复杂度高

3.  但是，Log structured 的存储系统也引入了一个重要的问题：读的复杂度和性能。理论上说，读操作需要从后往前扫描数据，以找到某个记录的最新版本。相比传统的存储系统，这是比较耗时的。*