<!--yml
category: 未分类
date: 0001-01-01 00:00:00
-->

# Zookeeper 对节点的 watch 监听通知是永久的吗？为什么不是永久的

> 原文：[https://zwmst.com/2071.html](https://zwmst.com/2071.html)

   [ *ZooKeeper* ](https://zwmst.com/zookeeper)*[ <time datetime="2021-08-17T11:22:12+08:00"> 2021-08-17 </time> ](https://zwmst.com/2071.html)  **不是**。官方声明：一个 Watch 事件是一个一次性的触发器，当被设置了 Watch 的数据发生了改变的时候，则服务器将这个改变发送给设置了 Watch 的客户端，以便通知它们。
**为什么不是永久的**，举个例子，如果服务端变动频繁，而监听的客户端很多情况下，每次变动都要通知到所有的客户端，给网络和服务器造成很大压力。
一般是客户端执行 getData(“/节点 A”,true)，如果节点 A 发生了变更或删除，客户端会得到它的 watch 事件，但是在之后节点 A 又发生了变更，而客户端又没有设置 watch 事件，就不再给客户端发送。
在实际应用中，很多情况下，我们的客户端不需要知道服务端的每一次变动，我只要最新的数据即可。*