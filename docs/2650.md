<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 1249.主从数据库不一致如何解决

> 原文：[https://zwmst.com/5807.html](https://zwmst.com/5807.html)

   [ *Redis* ](https://zwmst.com/redis)*[ <time datetime="2021-11-01T00:46:22+08:00"> 2021-10-31 </time> ](https://zwmst.com/5807.html)  场景描述，对于主从库，读写分离，如果主从库更新同步有时差，就会导致主从库数据的不一致

1.  忽略这个数据不一致，在数据一致性要求不高的业务下，未必需要时时一致性
2.  强制读主库，使用一个高可用的主库，数据库读写都在主库，添加一个缓存，提升数据读取的性能。
3.  选择性读主库，添加一个缓存，用来记录必须读主库的数据，将哪个库，哪个表，哪个主键，作为缓存的 key,设置缓存失效的时间为主从库同步的时间，如果缓存当中有这个数据，直接读取主库，如果缓存当中没有这个主键，就到对应的从库中读取。*