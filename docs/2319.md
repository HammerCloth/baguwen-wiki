<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 919.持久化消息非常慢。

> 原文：[https://zwmst.com/5109.html](https://zwmst.com/5109.html)

   [ *消息队列* ](https://zwmst.com/%e6%b6%88%e6%81%af%e9%98%9f%e5%88%97)*[ <time datetime="2021-10-18T23:37:10+08:00"> 2021-10-18 </time> ](https://zwmst.com/5109.html)  默认的情况下，非持久化的消息是异步发送的，持久化的消息是同步发送的，遇到慢一点的硬盘，发送消息的速度是无法忍受的。但是在开启事务的情况下，消息都是异步发送的，效率会有 2 个数量级的提升。所以在发送持久化消息时，请务必开启事务模式。其实发送非持久化消息时也建议开启事务，因为根本不会影响性能。*