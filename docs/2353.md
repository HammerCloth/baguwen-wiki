<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 952.描述一下 JVM 加载 Class 文件的原理机制?

> 原文：[https://zwmst.com/5186.html](https://zwmst.com/5186.html)

   [ *Java基础* ](https://zwmst.com/java%e5%9f%ba%e7%a1%80)*[ <time datetime="2021-10-19T22:08:49+08:00"> 2021-10-19 </time> ](https://zwmst.com/5186.html)  Java 语言是一种具有动态性的解释型语言，类（Class）只有被加载到 JVM 后才能运行。当运行指定程序时，JVM 会将编译生成的 .class 文件按照需求和一定的规则加载到内存中，并组织成为一个完整的 Java 应用程序。这个加载过程是由类加载器完成，具体来说，就是由 ClassLoader 和它的子类来实现的。类加载器本身也是一个类，其实质是把类文件从硬盘读取到内存中。
类的加载方式分为隐式加载和显示加载。隐式加载指的是程序在使用 new 等方式创建对象时，会隐式地调用类的加载器把对应的类加载到 JVM 中。显示加载指的是通过直接调用 class.forName() 方法来把所需的类加载到 JVM 中。
任何一个工程项目都是由许多类组成的，当程序启动时，只把需要的类加载到 JVM 中，其他类只有被使用到的时候才会被加载，采用这种方法一方面可以加快加载速度，另一方面可以节约程序运行时对内存的开销。此外，在 Java 语言中，每个类或接口都对应一个 .class 文件，这些文件可以被看成是一个个可以被动态加载的单元，因此当只有部分类被修改时，只需要重新编译变化的类即可，而不需要重新编译所有文件，因此加快了编译速度。
在 Java 语言中，类的加载是动态的，它并不会一次性将所有类全部加载后再运行，而是保证程序运行的基础类（例如基类）完全加载到 JVM 中，至于其他类，则在需要的时候才加载。
类加载的主要步骤：

1.  装载。根据查找路径找到相应的 class 文件，然后导入。
2.  链接。链接又可分为 3 个小步：
3.  检查，检查待加载的 class 文件的正确性。
4.  准备，给类中的静态变量分配存储空间。
5.  解析，将符号引用转换为直接引用（这一步可选）
6.  初始化。对静态变量和静态代码块执行初始化工作。*