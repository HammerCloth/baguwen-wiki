<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 如何设计一个秒杀系统?

> 原文：[https://zwmst.com/976.html](https://zwmst.com/976.html)

   [ *分布式* ](https://zwmst.com/%e5%88%86%e5%b8%83%e5%bc%8f)*[ <time datetime="2021-08-14T09:52:41+08:00"> 2021-08-14 </time> ](https://zwmst.com/976.html)  前端：在秒杀之前，按钮置灰，并且不给前端真正的请求地址。前端定时请求后端接口，如果到了秒杀时间，则返回给前端真正的地址，前端放开按钮，每次点击后都要等X秒才能点击。

服务器：服务器用nginx做集群、redis也做集群

限流：在秒杀之前，将秒杀数量的令牌存入到redis中，可以用list，每次来请求都去redis中取出令牌，如果获取到说明秒杀成功，然后去访问数据库下单，如果没有获取到，则说明商品卖完了。

消息中间件：如果秒杀数量比较多，例如上万十万，则秒杀成功之后，将成功的请求放入到 mq或者kafka中间件中，再从消息队列中获取请求。

服务降级：为了以防万一，还是要做服务熔断降级。*