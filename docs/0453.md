<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 什么是悲观锁？什么是乐观锁？

> 原文：[https://zwmst.com/880.html](https://zwmst.com/880.html)

   [ *多线程* ](https://zwmst.com/%e5%a4%9a%e7%ba%bf%e7%a8%8b)*[ <time datetime="2021-08-14T09:30:53+08:00"> 2021-08-14 </time> ](https://zwmst.com/880.html)  当我们要对一个数据库中的一条数据进行修改的时候，为了避免同时被其他人修改，最好的办 法就是直接对该数据进行加锁以防止并发。

这种借助数据库锁机制在修改数据之前先锁定，再修改的方式被称之为悲观并发控制（又名 “悲观锁”，Pessimistic Concurrency Control，缩写“PCC”）。

之所以叫做悲观锁，是因为这是一种对数据的修改抱有悲观态度的并发控制方式。我们一般认 为数据被并发修改的概率比较大，所以需要在修改之前先加锁。

乐观锁（ Optimistic Locking ） 是相对悲观锁而言的，乐观锁假设数据一般情况下不会造成 冲突，所以在数据进行提交更新的时候，才会正式对数据的冲突与否进行检测，如果发现冲突 了，则让返回用户错误的信息，让用户决定如何去做。

相对于悲观锁，在对数据库进行处理的时候，乐观锁并不会使用数据库提供的锁机制。一般的 实现乐观锁的方式就是记录数据版本。*