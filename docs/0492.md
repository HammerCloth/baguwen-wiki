<!--yml
category: 未分类
date: 0001-01-01 00:00:00
-->

# 什么是二阶段提交（2PC）？什么是三阶段提交（3PC）？

> 原文：[https://zwmst.com/962.html](https://zwmst.com/962.html)

   [ *分布式* ](https://zwmst.com/%e5%88%86%e5%b8%83%e5%bc%8f)*[ <time datetime="2021-08-14T09:50:51+08:00"> 2021-08-14 </time> ](https://zwmst.com/962.html)  二阶段提交2PC:第一步请求阶段通过协调者来统计表决结果,第二步执行表决后的结果,如果表 决的结果是提交,那就提交执行,否则不执行提交.缺点是同步阻塞,而且万一协调者挂了就无法保 证ACID.

三阶段提交3PC:在2PC的第一步拆分成了2步并且引入了超时机制,解决了2PC的痛点.第一步先 向参与者发出一个信号,看看大家是否都能提交,如果可以就返回yes,否则返回no.第二步 PreCommit阶段,预提交一下,如果参与者可以完成commit,就返回ack进确认,如果不能则放弃 提交本次事务.第三步doCommit阶段,进行真正的事务提交.*