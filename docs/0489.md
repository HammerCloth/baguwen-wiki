<!--yml
category: 未分类
date: 0001-01-01 00:00:00
--->

# 雪花算法了解过吗？

> 原文：[https://zwmst.com/955.html](https://zwmst.com/955.html)

   [ *分布式* ](https://zwmst.com/%e5%88%86%e5%b8%83%e5%bc%8f)*[ <time datetime="2021-08-14T09:47:34+08:00"> 2021-08-14 </time> ](https://zwmst.com/955.html)  雪花算法生成的是Long类型的ID，一个Long类型占8个字节，每个字节占8比特，也就是说一 个Long类型占64个比特。 雪花ID组成结构：正数位（占1比特）+ 时间戳（占41比特）+ 机器 ID（占5比特）+ 数据中心（占5比特）+ 自增值（占12比特），总共64比特组成的一个Long 类型。 第一个bit位（1bit）：Java中long的最高位是符号位代表正负，正数是0，负数是1， 一般生成ID都为正数，所以默认为0。 时间戳部分（41bit）：毫秒级的时间，不建议存当前时 间戳，而是用（当前时间戳 – 固定开始时间戳）的差值，可以使产生的ID从更小的值开始；41 位的时间戳可以使用69年，(1L << 41) / (1000L *60* 60 *24* 365) = 69年 工作机器 id（10bit）：也被叫做workId，这个可以灵活配置，机房或者机器号组合都可以。 序列号部 分（12bit），自增值支持同一毫秒内同一个节点可以生成4096个ID*